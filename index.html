<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hemaavathi Fashions</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #6a1b9a;
      --secondary: #ffab40;
      --accent: #7c4dff;
      --light: #f5f5f5;
      --dark: #212121;
      --success: #4caf50;
      --warning: #ff9800;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f5ff;
      color: #333;
    }
    
    .background-design {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
      z-index: -1;
    }
    
    .center-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .logo {
      height: 80px;
      margin-bottom: 10px;
    }
    
    .hero {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .hero h1 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 10px;
    }
    
    .hero p {
      font-size: 1.2rem;
      color: var(--dark);
    }
    
    /* Navigation Styles */
    .category-nav {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      margin-bottom: 30px;
    }
    
    .pathway {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      padding: 10px 15px;
      background: #f0e5ff;
      border-radius: 8px;
      font-size: 0.95rem;
    }
    
    .pathway a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      margin: 0 5px;
    }
    
    .pathway a:hover {
      text-decoration: underline;
    }
    
    .pathway .separator {
      color: var(--accent);
      margin: 0 8px;
    }
    
    .nav-level {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 20px;
    }
    
    .nav-level:last-child {
      margin-bottom: 0;
    }
    
    /* Level-specific buttons */
    .level-1-btn {
      padding: 12px 24px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50px;
      font-weight: 600;
      box-shadow: 0 4px 8px rgba(106, 27, 154, 0.2);
      transition: all 0.3s;
    }
    
    .level-2-btn {
      padding: 10px 20px;
      background: white;
      color: var(--dark);
      border: 2px solid var(--accent);
      border-radius: 8px;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .level-3-btn {
      padding: 8px 16px;
      background: var(--light);
      color: var(--dark);
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    
    /* Button states */
    .selected {
      background: var(--accent) !important;
      color: white !important;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(124, 77, 255, 0.25);
    }
    
    .sub-selected {
      border-color: var(--accent) !important;
      color: var(--accent) !important;
      font-weight: 600 !important;
    }
    
    /* Product Grid */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }
    
    .product-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      transition: all 0.3s;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .img-wrap {
      height: 220px;
      overflow: hidden;
    }
    
    .img-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s;
    }
    
    .product-card:hover .img-wrap img {
      transform: scale(1.05);
    }
    
    .prod-info {
      padding: 15px;
    }
    
    .prod-name {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 8px;
      color: var(--dark);
    }
    
    .prod-price {
      color: var(--primary);
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 8px;
      display: block;
    }
    
    .prod-sizes {
      display: block;
      font-size: 0.85rem;
      color: #666;
      background: #f5f5f5;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
    }
    
    /* Offers Section */
    .offers-section {
      margin-top: 60px;
      padding-top: 30px;
      border-top: 1px dashed #ddd;
    }
    
    .offers-section h2 {
      color: var(--primary);
      font-size: 1.8rem;
      margin-bottom: 30px;
      text-align: center;
      position: relative;
    }
    
    .offers-section h2::after {
      content: "";
      display: block;
      width: 80px;
      height: 3px;
      background: var(--secondary);
      margin: 15px auto 0;
    }
    
    .offers-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 20px;
    }
    
    .offer-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      transition: all 0.3s;
    }
    
    .offer-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    }
    
    .offer-img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    
    .offer-text {
      padding: 20px;
    }
    
    .offer-text h3 {
      color: var(--primary);
      margin-top: 0;
      margin-bottom: 10px;
    }
    
    .offer-text p {
      color: #555;
      line-height: 1.5;
    }
    
    /* Footer */
    footer {
      background: var(--primary);
      color: white;
      padding: 30px 0;
      margin-top: 60px;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .footer-links-social {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .footer-links {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
    }
    
    .footer-links a {
      color: white;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .footer-links a:hover {
      color: var(--secondary);
    }
    
    .footer-social {
      display: flex;
      gap: 15px;
    }
    
    .footer-social a {
      color: white;
      font-size: 1.2rem;
      transition: color 0.3s;
    }
    
    .footer-social a:hover {
      color: var(--secondary);
    }
    
    .whatsapp-btn {
      background: #25D366;
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
  </style>
</head>
<body>
  <div class="background-design"></div>
  <div class="center-content">
    <header>
      <div class="header-content">
        <img src="assets/logo.png" alt="Hemaavathi Fashions Logo" class="logo">
      </div>
    </header>

    <section class="hero">
      <div class="hero-content">
        <h1>Welcome to <span style="color: var(--accent)">Hemaavathi Fashions</span></h1>
        <p>Discover trendy collections for Women, Men, and Kids at affordable prices</p>
      </div>
    </section>

    <section class="categories">
      <div class="category-nav">
        <div class="pathway" id="pathway">
          <a href="#" onclick="navigateTo([])">Home</a>
        </div>
        <div class="nav-level" id="level-1"></div>
        <div class="nav-level" id="level-2"></div>
        <div class="nav-level" id="level-3"></div>
      </div>
    </section>

    <section id="category-header" class="category-header"></section>

    <main>
      <div id="product-list" class="product-grid"></div>
    </main>

    <section id="offers-section" class="offers-section">
      <h2>Current Offers</h2>
      <div id="offers-list" class="offers-list"></div>
    </section>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-links-social">
        <div class="footer-links">
          <a href="about.html">About Us</a>
          <a href="contact.html">Contact</a>
          <a href="policy.html">Policy</a>
          <a href="https://wa.me/919492324225" class="whatsapp-btn" target="_blank">
            <i class="fab fa-whatsapp"></i> WhatsApp
          </a>
        </div>
        <div class="footer-social">
          <a href="https://www.instagram.com/hemaavathi__fashions" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://www.facebook.com/profile.php?id=61574970737394" target="_blank"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.youtube.com/@Hemaavathifashions" target="_blank"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let allProducts = [];
      let categoryHeaders = {};
      let allOffers = [];
      let subCategories = {};
      let currentPath = [];

      // Load all data
      Promise.all([
        fetch('products.json').then(r => r.json()),
        fetch('categoryHeaders.json').then(r => r.json()),
        fetch('offers.json').then(r => r.json()),
        fetch('subCategories.json').then(r => r.json())
      ])
      .then(([products, headers, offers, subCats]) => {
        allProducts = products;
        categoryHeaders = headers;
        allOffers = offers;
        subCategories = subCats;
        
        renderOffers();
        renderNavigation();
        renderProducts();
        updatePathway();
      })
      .catch(error => console.error('Error loading data:', error));

      function navigateTo(path) {
        currentPath = path;
        updatePathway();
        renderNavigation();
        renderProducts();
        renderCategoryHeader();
      }

      function updatePathway() {
        const pathwayEl = document.getElementById('pathway');
        let html = '<a href="#" onclick="event.preventDefault(); navigateTo([])">Home</a>';
        
        currentPath.forEach((segment, index) => {
          html += `<span class="separator">/</span>
                  <a href="#" onclick="event.preventDefault(); navigateTo(${JSON.stringify(currentPath.slice(0, index + 1))})">
                    ${segment}
                  </a>`;
        });
        
        pathwayEl.innerHTML = html;
      }

      function renderNavigation() {
        // Level 1 - Main Categories (Circular buttons)
        const level1 = document.getElementById('level-1');
        level1.innerHTML = '';
        
        Object.keys(categoryHeaders).forEach(category => {
          const btn = document.createElement('button');
          btn.className = 'level-1-btn';
          btn.textContent = category;
          if (currentPath[0] === category) {
            btn.classList.add('selected');
          }
          btn.onclick = () => navigateTo([category]);
          level1.appendChild(btn);
        });

        // Level 2 - Sub Categories (Rectangular buttons)
        const level2 = document.getElementById('level-2');
        level2.innerHTML = '';
        
        if (currentPath.length >= 1) {
          const mainCategory = currentPath[0];
          const subCats = subCategories[mainCategory];
          
          if (subCats) {
            Object.keys(subCats).forEach(subCat => {
              const btn = document.createElement('button');
              btn.className = 'level-2-btn';
              btn.textContent = subCat;
              if (currentPath[1] === subCat) {
                btn.classList.add('selected');
              } else if (currentPath[0] === mainCategory) {
                btn.classList.add('sub-selected');
              }
              btn.onclick = () => navigateTo([mainCategory, subCat]);
              level2.appendChild(btn);
            });
          }
        }

        // Level 3 - Variants (Small rectangular buttons)
        const level3 = document.getElementById('level-3');
        level3.innerHTML = '';
        
        if (currentPath.length >= 2) {
          const mainCategory = currentPath[0];
          const subCat = currentPath[1];
          const variants = subCategories[mainCategory][subCat];
          
          if (Array.isArray(variants)) {
            variants.forEach(variant => {
              const btn = document.createElement('button');
              btn.className = 'level-3-btn';
              btn.textContent = variant;
              if (currentPath[2] === variant) {
                btn.classList.add('selected');
              } else if (currentPath[1] === subCat) {
                btn.classList.add('sub-selected');
              }
              btn.onclick = () => navigateTo([mainCategory, subCat, variant]);
              level3.appendChild(btn);
            });
          }
        }
      }
      function renderProducts() {
        const container = document.getElementById('product-list');
        container.innerHTML = '';
        
        if (currentPath.length === 0) {
          container.innerHTML = `
            <div style="grid-column:1/-1; text-align:center; padding:40px;">
              <h3 style="color:var(--primary)">Browse Our Collections</h3>
              <p style="color:#666">Select a category to view products</p>
            </div>
          `;
          return;
        }
        
        const categoryPath = currentPath.join('/');
        const toShow = allProducts.filter(p => p.category.startsWith(categoryPath));
        
        if (toShow.length === 0) {
          container.innerHTML = `
            <div style="grid-column:1/-1; text-align:center; padding:40px;">
              <h3 style="color:var(--primary)">No Products Found</h3>
              <p style="color:#666">We couldn't find products in this category</p>
            </div>
          `;
          return;
        }
        
        toShow.forEach(product => {
          const card = document.createElement('div');
          card.className = 'product-card';
          card.innerHTML = `
            <div class="img-wrap">
              <img src="${product.image}" alt="${product.name}" loading="lazy">
            </div>
            <div class="prod-info">
              <span class="prod-name">${product.name}</span>
              <span class="prod-price">₹${product.price}</span>
              ${product.sizes ? `<span class="prod-sizes">Sizes: ${product.sizes.join(', ')}</span>` : ''}
            </div>
          `;
          container.appendChild(card);
        });
      }

      function renderOffers() {
        const offersList = document.getElementById('offers-list');
        offersList.innerHTML = '';
        
        if (!allOffers || !allOffers.length) {
          document.getElementById('offers-section').style.display = 'none';
          return;
        }
        
        allOffers.forEach(offer => {
          const offerCard = document.createElement('div');
          offerCard.className = 'offer-card';
          offerCard.innerHTML = `
            ${offer.image ? `<img src="${offer.image}" alt="Offer" class="offer-img">` : ''}
            <div class="offer-text">
              <h3>${offer.title || 'Special Offer'}</h3>
              <p>${offer.text || ''}</p>
            </div>
          `;
          offersList.appendChild(offerCard);
        });
      }
      
      // Make navigateTo available globally
      window.navigateTo = function(path) {
        navigateTo(path);
      };
    });
  </script>
</body>
</html>
